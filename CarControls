using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CarControls : MonoBehaviour
{

	public WheelCollider F_Left, F_Right, B_Left, B_Right;
	public float SteerForce;
	public float MotorForce;
	public float BrakeForce;

	void Start()
	{
	
	}

	void Update()
	{
	}

	void FixedUpdate()
	{
		float horizontal = Input.GetAxis("Horizontal") * SteerForce;
		float vertical = Input.GetAxis("Vertical") * MotorForce;
		Debug.Log(vertical);

		B_Left.motorTorque = vertical;
		B_Right.motorTorque = vertical;
		F_Left.motorTorque = vertical;
		F_Right.motorTorque = vertical;

		F_Left.steerAngle = horizontal;
		F_Right.steerAngle = horizontal;


		if (Input.GetKey(KeyCode.Space))
		{
			B_Left.brakeTorque = BrakeForce;
			B_Right.brakeTorque = BrakeForce;
		}

		if (Input.GetKeyUp(KeyCode.Space))
		{
			B_Left.brakeTorque = 0;
			B_Right.brakeTorque = 0;
		}

		if (Input.GetAxis("Vertical") == 0)
		{
			B_Left.brakeTorque = BrakeForce;
			B_Right.brakeTorque = BrakeForce;
		}
		else
		{
			B_Left.brakeTorque = 0;
			B_Right.brakeTorque = 0;
		}
	}
}
